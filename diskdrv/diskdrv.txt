
| M88 用 機能拡張モジュール
| DISKDRV
| v0.21

|概要
  このモジュール(diskdrv.m88) は，M88 上で動作するプログラムからエミュレータが
  稼動しているシステム上のファイルにアクセスするために必要な機能を M88 に追加
  するものです．

  現時点では単純な読み書きしか出来ませんが，将来的にもっと機能を追加する予定が
  あるかどうかは確かではありません(ぉぃ

  また，N88-BASIC 用の拡張 ROM を用意しました．
  システム上のファイルに対して BASIC プログラムや機械語プログラムのセーブ・
  ロードが実行できるようになり，(するかどうかはともかく) 88 ソフトの開発が
  効率的になります．

|使い方
  このアーカイブに混入されている diskdrv.m88 と，e1.rom を M88 (2.14 以降) と
  同じディレクトリに置き，M88 を起動させてください．．

|ドライバの使い方
  ドライバの主要部分は拡張 ROM 上に置かれるため，RAM 側の常駐エリアは少なく
  押さえられています．

  常駐:   f310-f31b	(予備割り込みベクタ内)
  非常駐: f04f-f086	(PAINT/CIRCLE ワーク)
          e9b9-eaba	(行入力バッファ)

  恐らく競合する常駐プログラムはほとんどないと思いますが，問題が生じた場合
  e1.rom を取り外してください．

  使用できるようになるコマンドは次の通りです．

    cmd load "filename"[,r]	BASIC プログラムのロード

    cmd save "filename"[,a/b]	BASIC プログラムのセーブ
                                b オプションで中間コード方式，
                                オプション無し(a オプション)では ASCII 方式
                                で保存されます．

    cmd bload "filename"        機械語プログラムのロード
                  [,addr][,r]

    cmd bsave "filename"		機械語プログラムのセーブ
             [,addr][,length]

|使用するリソース
  IO ポート D0, D1 (入出力とも) を使用します．

|機械語ファイルの構造
  忘れている人のために...

  +0 [word]	開始アドレス
  +2 [word]	終了アドレス + 1 (開始アドレス + データ長)
  +4 [データ長] 実際のデータ

|ソースのコンパイル
  コンパイルには M88 (2.14 以降) のソースが必要です．
  モジュールのソースは， M88 のソースのあるディレクトリの下に置いてください．

  c:\project\m88p2 に M88 のソースがあるなら
  c:\project\m88p2\diskdrv に置くことになります．

|利用制限
  ありません．
  組み込み，配布，改造など，御自由にどうぞ．

|著者連絡先
  WWW:    http://www.remus.dti.ne.jp/~cisc/
  e-mail: cisc@remus.dti.ne.jp
